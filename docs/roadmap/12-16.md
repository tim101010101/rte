# 2022-12-16

关于从指针位置获取 VNode 的需求, 暂时也许可以先从 fence 下手, 在 fence 中添加一个数组, 存储光标偏移量对应的 VNode

先整理一下目录结构, 把 block 和 page 单独抽出去

## 补档

发现自己是傻逼, 都做了 VNode 为什么还要总是基于 DOM 来操作....

回退一版重构一下

## 补档

重构到基于 VNode 是简单的, 但是 fence 数组的事情不好处理, 要真正处理好 fence 数组, 需要明确 marker 的展现形式以及存储方式, 比如

```markdown
|**hello world**
**|hello world**
**hello world|**
**hello world**|
```

以上四种情况, 光标在不在 VNode 中?

需要从长计议
