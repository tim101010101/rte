# 2023-6-9

这几天做了点小小的调整

- 引入 commitlint
- 引入 jest-canvas-mock
- 测试用例全部移动到 test 文件夹下集中管理

接下来的主要工作

- 渲染层重构
- 注释补齐
- 整理 model 层代码

## 关于渲染层重构

有几点需要注意

- 每次更新节点都必须全量重绘
  - 因为节点更新可能会引起内容的几何属性产生变化，进而导致下面的所有节点产生位移
  - 可以通过在捕获过程中引入 isDirty 字段来标志是否需要更新, 以此来优化
    - 单次操作影响范围有限，同一时刻只会存在一个 dirty 节点
