# 2023-1-8

今天的主要工作就是整理一下现有代码, 然后构思一下 block

暂时想到的也许会需要几种默认提供的 block

1. 可激活
2. 不可激活
   1. 块状: 如 codeBlock
   2. 列表状: 如 list

仔细一想, 什么样的块才会需要被激活呢, 激活指的是切换到类似源代码的模式么

那就默认都做不可激活的类型, 类似常规的 codeBlock, 但是最好能提供可激活的能力, 可以不用, 但是不能没有

而且还有一个很严重的问题, schema 的 parser 该怎么写

先尝试做一个无序列表试试水

## 一个想法

发现一个根本上的大问题

如果激活的本质就是显示源代码的话, 为什么还要大费周折想方设法获取 prefix 和 suffix, 然后再单独插入

只需要替换这个节点的 text 就可以了吧

比如 `**foo**`

渲染成 foo

光标移入, 将 `<foo>` 节点的 text 替换成 `**foo**`, 只需要在 textNode 或者 syntaxNode 里面添加一个 source 字段就可以做到
